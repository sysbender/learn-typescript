 
# üìò Advanced Usage of `import.meta.glob` in Vite

Vite‚Äôs `import.meta.glob` function allows importing multiple modules at once with flexible configuration options. This guide explores advanced features including `as`, `url`, `import`, and `eager`.

---

## üß† Recap: Basic Glob Usage

```js
const modules = import.meta.glob('./10/*.js');
```

Returns an object:
- Keys: paths to modules
- Values: functions to dynamically import each module

---

## ‚öôÔ∏è Option: `as`

### üî§ `as: 'raw'`

Returns the **content of each module as a string**:

```js
const modules = import.meta.glob('./10/*.js', { as: 'raw' });
```

Each value is a string containing the module‚Äôs source code.

### üåê `as: 'url'`

Returns the **absolute URL path** to each module:

```js
const modules = import.meta.glob('./10/*.js', { as: 'url' });
```

Each value is a string URL pointing to the module file.

---

## üì¶ Module Setup

Each module (`a.js`, `b.js`, `c.js`) should export:

```js
// a.js
export const name = 'Jane';
export default 'A';

// b.js
export const name = 'John';
export default 'B';

// c.js
export const name = 'Jay';
export default 'C';
```

---

## ‚öôÔ∏è Option: `import`

Use `import` to specify which named export to retrieve:

```js
const modules = import.meta.glob('./10/*.js', { import: 'name' });

Object.values(modules).forEach(loader => {
  loader().then(name => {
    console.log(name); // Logs: Jane, John, Jay
  });
});
```

To import default exports:

```js
const modules = import.meta.glob('./10/*.js', { import: 'default' });
```

---

## ‚ö° Option: `eager` + `import`

Combining both options:

```js
const modules = import.meta.glob('./10/*.js', {
  eager: true,
  import: 'name'
});

console.log(modules);
```

### üîç Behavior

- Modules are loaded immediately.
- Returned object contains values of the named export `name`.
- No dynamic import functions.

---

## üîÅ Transformation Example

Vite transforms:

```js
const modules = import.meta.glob('./10/*.js', {
  eager: true,
  import: 'name'
});
```

Into:

```js
import { name as aName } from './10/a.js';
import { name as bName } from './10/b.js';
import { name as cName } from './10/c.js';

const modules = {
  './10/a.js': aName,
  './10/b.js': bName,
  './10/c.js': cName
};
```

---

## ‚úÖ Summary of Options

| Option         | Description                                      | Result Type         |
|----------------|--------------------------------------------------|----------------------|
| `as: 'raw'`     | Returns module content as string                 | `string`             |
| `as: 'url'`     | Returns absolute URL to module                   | `string`             |
| `import: 'name'`| Imports specific named export                    | `Promise` or `value` |
| `eager: true`   | Loads modules immediately                        | `value`              |

---

## üìö Bonus

You can combine glob patterns and options for powerful module management:

```js
import.meta.glob('./modules/**/*.js', {
  eager: true,
  import: 'default'
});
```

 